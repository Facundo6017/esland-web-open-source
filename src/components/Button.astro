---
import Link from '@/components/Link.astro'

interface Props {
  id?: string
  class?: string
  target?: string
  url?: string
}

const { url, target, class: className, ...rest } = Astro.props
const classNames = [
    "button",
    className,
];
const props: Record<string, any> = Object.assign({}, rest);
const Element = url ? Link : 'button';
if (url) {
  props.target = target ?? '_blank';
  props.rel = 'noopener noreferrer'
  props.href = url;
}

---
<Element class:list={classNames} {...props}>
  <slot />
</Element>