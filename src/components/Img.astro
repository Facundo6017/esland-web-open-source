---
import type { HTMLAttributes } from "astro/types";
import { Image } from "astro:assets";
import { resolve } from "./Img/Resolver";

export { resolve }

interface Props extends HTMLAttributes<"img"> {}

const { src, alt = "", ...attrs } = Astro.props;

const isWebp = src?.endsWith('.webp') ;
const img = resolve(src as string, isWebp);
const Element = isWebp ? 'img' : Image;
---

<Element src={img} alt={alt} {...Object.assign(attrs)} />
